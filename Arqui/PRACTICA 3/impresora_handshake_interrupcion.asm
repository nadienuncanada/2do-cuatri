DATO EQU  40H
ESTADO EQU 41H

EOI EQU 20H
IMR EQU 21H
INT2 EQU 26H

ORG 40
IP_INT10 DW IMPRIMIR
ORG 1000H
CADENA DB "HOLIS"
FIN DB 0

ORG 3000H
IMPRIMIR: MOV AL, [BX]
 OUT DATO, AL
 INC BX
 CMP BX, OFFSET FIN
 JNZ  SEGUIR
 
 MOV AL, 0FFH; TERMINE, DESACTIVO INTERRUPCIONES
 OUT IMR, AL
 ; TAMBIEN PODRIA HABER HECHO UNA MASCARA SOBRE ESTADO Y DESACIVADO INT
SEGUIR: MOV AL, 20H
 OUT EOI, AL
 IRET
ORG 2000H

MOV BX, OFFSET CADENA

;CONFIG HANDSHAKE
IN AL, ESTADO
OR AL, 80H
OUT ESTADO,AL

;CONFIG PIC
CLI
MOV AL, 10
OUT INT2, AL

MOV AL, 0FBH; 1111 1011
OUT IMR, AL
STI

ESPERAR: CMP BX, OFFSET FIN
 JNZ ESPERAR
INT 0
END
