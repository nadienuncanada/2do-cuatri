a-
PB EQU 31H
CB EQU 33H

ORG 2000H
MOV AL, 0
OUT CB, AL

MOV AL, 11000011B
OUT PB, AL
INT 0
END
-----------------------------------
b-
PA EQU 30H
CA EQU 32H

ORG 1000H
MSJBIEN DB "LLAVE PRENDIDA"
FINBIEN DB ?
MSJMAL DB "LLAVE APAGADA"
FINMAL DB ?
ORG 2000H
MOV AL, 0FFH
OUT CA, AL

IN AL, PA
AND AL, 10000000B
CMP AL, 10000000B
JNZ MAL

MOV BX, OFFSET MSJBIEN
MOV AL, OFFSET FINBIEN- OFFSET MSJBIEN
INT 7
JMP FIN
-----------------------------------
D-
CONT EQU 10H
COMP EQU 11H
IMR EQU 21H
EOI EQU 20H
INT1 EQU 25H

PB EQU 31H
CB EQU 33H

ORG 40
IP_CONT DW RUT_CONT

ORG 3000H
RUT_CONT: PUSH AX
MOV AL, CL
OUT PB, AL
ADD CL, 1B
MOV AL, 0
OUT CONT, AL
MOV AL,20H
OUT EOI, AL
POP AX
IRET

ORG 2000H
;CONFIG DEL PIC
CLI
MOV AL, 11111101B
OUT IMR, AL
MOV AL, 10
OUT INT1, AL
MOV AL, 1
OUT COMP, AL
MOV AL, 0
OUT CONT, AL
STI
MOV AL, 0H
OUT CB, AL
MOV CL, 00H
MOV AL, 0H
OUT PB, AL

LOOP:JMP LOOP
INT 0
END

MAL:MOV BX, OFFSET MSJMAL
MOV AL, OFFSET FINMAL- OFFSET MSJMAL
INT 7
FIN: INT 0
END
-------------------------------------
C-
PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H


ORG 2000H
MOV AL, 0FFH
OUT CA, AL
MOV AL, 0H
OUT CB, AL
LOOP: IN AL, PA
OUT PB, AL
JMP LOOP
INT 0
END

-------------------------------------
D-
CONT EQU 10H
COMP EQU 11H
IMR EQU 21H
EOI EQU 20H
INT1 EQU 25H

PB EQU 31H
CB EQU 33H
ORG 40
IP_CONT DW RUT_CONT
ORG 1000H
PR: 8
ORG 3000H
RUT_CONT: PUSH AX
MOV AL, CL
CMP DX, PR 
JZ ADELANTE

SUB CL, 10B

ADELANTE: DEC DX
MOV BX,OFFSET PR
DEC 
SEGUIR: ADD CL, CL
INC DX 
FIN: MOV AL, CL
OUT PB, AL
MOV AL, 0
OUT CONT, AL
MOV AL,20H
OUT EOI, AL
POP AX
IRET
ORG 2000H
;CONFIG DEL PIC
CLI
MOV AL, 11111101B
OUT IMR, AL
MOV AL, 10
OUT INT1, AL
MOV AL, 1
OUT COMP, AL
MOV AL, 0
OUT CONT, AL
STI
MOV AL, 0H
OUT CB, AL
MOV CL, 00H
MOV AL, 0H
OUT PB, AL

LOOP:JMP LOOP
INT 0
END
