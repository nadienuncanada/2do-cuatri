PA EQU  30H
PB EQU 31H
CA EQU 32H
CB EQU 33H

ORG 1000H
CADENA DB "HOLA"
FIN DB 0

ORG 2000H
MOV AL, 0
OUT CB, AL
MOV AL, 1
OUT CA, AL; 0000 0001
MOV BX, OFFSET CADENA

LOOP: IN AL, PA; CONSULTO ESTADO
AND AL, 1
JNZ LOOP; SI BUSY =1 SALTO A LOOP

; PONER STROBE EN 0
IN AL, PA
AND AL, 0FDH; 1111 1101
OUT PA, AL

MOV AL, [BX]
OUT PB, AL


; PONER STROBE EN 1
IN AL, PA
OR AL, 02H; 0000 0010
OUT PA, AL


INC BX
CMP BYTE PTR [BX], 0
JNZ LOOP

INT 0
END
